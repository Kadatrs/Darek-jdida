âœ… **Testing All Features in Postman - Step by Step**  

ğŸ“Œ **Before testing, make sure:**  
1ï¸âƒ£ Your server is running:  
   ```sh
   npm start
   ```
2ï¸âƒ£ You know your `PORT` (default is `5000`).  
3ï¸âƒ£ You have a registered user/worker to test authentication (`JWT`).  

---

## **ğŸ“Œ 1ï¸âƒ£ Testing User & Worker Authentication**
### **ğŸ”¹ Register a New User (`POST /api/auth/user/register`)**
ğŸ“Œ **Method:** `POST`  
ğŸ“Œ **URL:** `http://localhost:5000/api/auth/user/register`  
ğŸ“Œ **Body (JSON):**
```json
{
  "firstName": "John",
  "familyName": "Doe",
  "email": "john.doe@example.com",
  "phone": "0678123456",
  "password": "securePassword123"
}
```
ğŸ“Œ **Expected Response:**  
```json
{
  "message": "User registered successfully!",
  "user": {
    "_id": "65f2bc1a1234567890abcd",
    "firstName": "John",
    "familyName": "Doe",
    "email": "john.doe@example.com",
    "phone": "0678123456"
  }
}
```
---
### **ğŸ”¹ User Login (`POST /api/auth/user/login`)**
ğŸ“Œ **Method:** `POST`  
ğŸ“Œ **URL:** `http://localhost:5000/api/auth/user/login`  
ğŸ“Œ **Body (JSON):**
```json
{
  "email": "john.doe@example.com",
  "password": "securePassword123"
}
```
ğŸ“Œ **Expected Response:**
```json
{
  "message": "Login successful!",
  "token": "JWT_TOKEN_HERE"
}
```
ğŸ“Œ **Save the `token`, you will need it for other tests.**

---

## **ğŸ“Œ 2ï¸âƒ£ Testing User & Worker Profiles**
ğŸ“Œ **Add `Authorization: Bearer JWT_TOKEN_HERE` in `Headers` for each test.**

### **ğŸ”¹ Get User Profile (`GET /api/profile/user`)**
ğŸ“Œ **Method:** `GET`  
ğŸ“Œ **URL:** `http://localhost:5000/api/profile/user`  
ğŸ“Œ **Headers:**
```yaml
Authorization: Bearer JWT_TOKEN_HERE
```
ğŸ“Œ **Expected Response:**
```json
{
  "user_id": "65f2bc1a1234567890abcd",
  "name": "John Doe",
  "email": "john.doe@example.com",
  "phone": "0678123456",
  "profile_image_url": "",
  "address": {
    "latitude": null,
    "longitude": null,
    "full_address": ""
  }
}
```

---

### **ğŸ”¹ Update User Profile (`PUT /api/profile/user`)**
ğŸ“Œ **Method:** `PUT`  
ğŸ“Œ **Body (JSON):**
```json
{
  "firstName": "John Updated",
  "familyName": "Doe Updated"
}
```
ğŸ“Œ **Expected Response:**  
```json
{
  "message": "Profile updated successfully!"
}
```

---

## **ğŸ“Œ 3ï¸âƒ£ Testing Profile Picture Upload**
### **ğŸ”¹ Upload User Profile Picture (`PUT /api/profile/user/upload-profile-picture`)**
ğŸ“Œ **Method:** `PUT`  
ğŸ“Œ **URL:** `http://localhost:5000/api/profile/user/upload-profile-picture`  
ğŸ“Œ **Headers:**
```yaml
Authorization: Bearer JWT_TOKEN_HERE
```
ğŸ“Œ **Body (`form-data`):**  
- `Key:` `profilePicture`  
- `Type:` `File`  
- `Value:` **Choose an image from your device**  

ğŸ“Œ **Expected Response:**  
```json
{
  "message": "File uploaded successfully!",
  "file": "uploads/USER_ID-TIMESTAMP-image.jpg"
}
```

---

## **ğŸ“Œ 4ï¸âƒ£ Testing Email or Phone Change**
### **ğŸ”¹ Request Email Change (`POST /api/profile/user/request-change-contact`)**
ğŸ“Œ **Body (JSON):**
```json
{
  "newEmail": "john.updated@example.com"
}
```
ğŸ“Œ **Expected Response:**
```json
{
  "message": "OTP sent for contact update"
}
```

---
### **ğŸ”¹ Verify Email Change (`POST /api/profile/user/verify-change-contact`)**
ğŸ“Œ **Body (JSON):**
```json
{
  "otp": "123456",
  "newEmail": "john.updated@example.com"
}
```
ğŸ“Œ **Expected Response:**
```json
{
  "message": "Contact updated successfully"
}
```

---

## **ğŸ“Œ 5ï¸âƒ£ Testing Location Update**
### **ğŸ”¹ Update User Location (`PUT /api/profile/user/location`)**
ğŸ“Œ **Body (JSON):**
```json
{
  "latitude": 36.7528,
  "longitude": 3.0422,
  "full_address": "Algiers, Algeria"
}
```
ğŸ“Œ **Expected Response:**
```json
{
  "message": "Location updated successfully!"
}
```

---

### âœ… **ğŸ“Œ Summary**
âœ” **`POST /api/auth/user/register`** â†’ Register a new user  
âœ” **`POST /api/auth/user/login`** â†’ Login and receive a `JWT`  
âœ” **`GET /api/profile/user`** â†’ Get user profile  
âœ” **`PUT /api/profile/user`** â†’ Update user profile  
âœ” **`PUT /api/profile/user/upload-profile-picture`** â†’ Upload profile picture  
âœ” **`POST /api/profile/user/request-change-contact`** â†’ Request email or phone change  
âœ” **`POST /api/profile/user/verify-change-contact`** â†’ Confirm change via OTP  
âœ” **`PUT /api/profile/user/location`** â†’ Update user location  

ğŸ“‚ **Do you want to add tests for any other features? ğŸš€ğŸ”¥**




////////////////////////////////////////    worker





âœ… **Testing All Worker Features in Postman - Step by Step**  

ğŸ“Œ **Before testing, make sure:**  
1ï¸âƒ£ Your server is running:  
   ```sh
   npm start
   ```
2ï¸âƒ£ You know your `PORT` (default is `5000`).  
3ï¸âƒ£ You have a registered worker to test authentication (`JWT`).  

---

## **ğŸ“Œ 1ï¸âƒ£ Testing Worker Authentication**
### **ğŸ”¹ Register a New Worker (`POST /api/auth/worker/register`)**
ğŸ“Œ **Method:** `POST`  
ğŸ“Œ **URL:** `http://localhost:5000/api/auth/worker/register`  
ğŸ“Œ **Body (JSON):**
```json
{
  "firstName": "Alice",
  "familyName": "Smith",
  "email": "alice.smith@example.com",
  "phone": "0678993322",
  "password": "securePassword123",
  "job_type": "Electrician",
  "experience_years": 5
}
```
ğŸ“Œ **Expected Response:**  
```json
{
  "message": "Worker registered successfully!",
  "worker": {
    "_id": "65f2bc1a1234567890abcd",
    "firstName": "Alice",
    "familyName": "Smith",
    "email": "alice.smith@example.com",
    "phone": "0678993322",
    "job_type": "Electrician",
    "experience_years": 5
  }
}
```
---
### **ğŸ”¹ Worker Login (`POST /api/auth/worker/login`)**
ğŸ“Œ **Method:** `POST`  
ğŸ“Œ **URL:** `http://localhost:5000/api/auth/worker/login`  
ğŸ“Œ **Body (JSON):**
```json
{
  "email": "alice.smith@example.com",
  "password": "securePassword123"
}
```
ğŸ“Œ **Expected Response:**
```json
{
  "message": "Login successful!",
  "token": "JWT_TOKEN_HERE"
}
```
ğŸ“Œ **Save the `token`, you will need it for other tests.**

---

## **ğŸ“Œ 2ï¸âƒ£ Testing Worker Profile**
ğŸ“Œ **Add `Authorization: Bearer JWT_TOKEN_HERE` in `Headers` for each test.**

### **ğŸ”¹ Get Worker Profile (`GET /api/profile/worker`)**
ğŸ“Œ **Method:** `GET`  
ğŸ“Œ **URL:** `http://localhost:5000/api/profile/worker`  
ğŸ“Œ **Headers:**
```yaml
Authorization: Bearer JWT_TOKEN_HERE
```
ğŸ“Œ **Expected Response:**
```json
{
  "worker_id": "65f2bc1a1234567890abcd",
  "name": "Alice Smith",
  "email": "alice.smith@example.com",
  "phone": "0678993322",
  "profile_image_url": "",
  "address": {
    "latitude": null,
    "longitude": null,
    "full_address": ""
  },
  "job_type": "Electrician",
  "experience_years": 5,
  "total_jobs_completed": 0,
  "average_rating": 0
}
```

---

### **ğŸ”¹ Update Worker Profile (`PUT /api/profile/worker`)**
ğŸ“Œ **Method:** `PUT`  
ğŸ“Œ **Body (JSON):**
```json
{
  "firstName": "Alice Updated",
  "familyName": "Smith Updated",
  "job_type": "Plumber"
}
```
ğŸ“Œ **Expected Response:**  
```json
{
  "message": "Profile updated successfully!"
}
```

---

## **ğŸ“Œ 3ï¸âƒ£ Testing Profile Picture Upload**
### **ğŸ”¹ Upload Worker Profile Picture (`PUT /api/profile/worker/upload-profile-picture`)**
ğŸ“Œ **Method:** `PUT`  
ğŸ“Œ **URL:** `http://localhost:5000/api/profile/worker/upload-profile-picture`  
ğŸ“Œ **Headers:**
```yaml
Authorization: Bearer JWT_TOKEN_HERE
```
ğŸ“Œ **Body (`form-data`):**  
- `Key:` `profilePicture`  
- `Type:` `File`  
- `Value:` **Choose an image from your device**  

ğŸ“Œ **Expected Response:**  
```json
{
  "message": "File uploaded successfully!",
  "file": "uploads/WORKER_ID-TIMESTAMP-image.jpg"
}
```

---

## **ğŸ“Œ 4ï¸âƒ£ Testing Email or Phone Change**
### **ğŸ”¹ Request Email Change (`POST /api/profile/worker/request-change-contact`)**
ğŸ“Œ **Body (JSON):**
```json
{
  "newEmail": "alice.updated@example.com"
}
```
ğŸ“Œ **Expected Response:**
```json
{
  "message": "OTP sent for contact update"
}
```

---
### **ğŸ”¹ Verify Email Change (`POST /api/profile/worker/verify-change-contact`)**
ğŸ“Œ **Body (JSON):**
```json
{
  "otp": "123456",
  "newEmail": "alice.updated@example.com"
}
```
ğŸ“Œ **Expected Response:**
```json
{
  "message": "Contact updated successfully"
}
```

---

## **ğŸ“Œ 5ï¸âƒ£ Testing Location Update**
### **ğŸ”¹ Update Worker Location (`PUT /api/profile/worker/location`)**
ğŸ“Œ **Body (JSON):**
```json
{
  "latitude": 36.7528,
  "longitude": 3.0422,
  "full_address": "Algiers, Algeria"
}
```
ğŸ“Œ **Expected Response:**
```json
{
  "message": "Location updated successfully!"
}
```

---

### âœ… **ğŸ“Œ Summary**
âœ” **`POST /api/auth/worker/register`** â†’ Register a new worker  
âœ” **`POST /api/auth/worker/login`** â†’ Login and receive a `JWT`  
âœ” **`GET /api/profile/worker`** â†’ Get worker profile  
âœ” **`PUT /api/profile/worker`** â†’ Update worker profile  
âœ” **`PUT /api/profile/worker/upload-profile-picture`** â†’ Upload profile picture  
âœ” **`POST /api/profile/worker/request-change-contact`** â†’ Request email or phone change  
âœ” **`POST /api/profile/worker/verify-change-contact`** â†’ Confirm change via OTP  
âœ” **`PUT /api/profile/worker/location`** â†’ Update worker location  

ğŸ“‚ **Do you want to add tests for any other features? ğŸš€ğŸ”¥**